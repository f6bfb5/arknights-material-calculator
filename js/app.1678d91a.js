(function(e){function t(t){for(var n,s,o=t[0],c=t[1],l=t[2],d=0,u=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&u.push(r[s][0]),r[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);p&&p(t);while(u.length)u.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},r={app:0},i=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var p=c;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0573":function(e,t,a){e.exports=a.p+"img/mate_41.a967cb71.png"},"0654":function(e,t,a){e.exports=a.p+"img/mate_48.f8befd02.png"},"0c3e":function(e,t,a){e.exports=a.p+"img/mate_29.fe025d5b.png"},"0d56":function(e,t,a){e.exports=a.p+"img/mate_11.2d113972.png"},1814:function(e,t,a){e.exports=a.p+"img/mate_3.d96fbeed.png"},"20a6":function(e,t,a){e.exports=a.p+"img/mate_4.d9d3841c.png"},"22cd":function(e,t,a){e.exports=a.p+"img/mate_13.aec8c93e.png"},4223:function(e,t,a){e.exports=a.p+"img/mate_25.f9ba7d94.png"},"45c8":function(e,t,a){e.exports=a.p+"img/mate_90.7b9cfa8b.png"},"4b76":function(e,t,a){e.exports=a.p+"img/mate_47.07ce932c.png"},5185:function(e,t,a){e.exports=a.p+"img/mate_49.720d85b7.png"},"523e":function(e,t,a){e.exports=a.p+"img/mate_2.081677a8.png"},5568:function(e,t,a){e.exports=a.p+"img/mate_12.79f5cd99.png"},"55f2":function(e,t,a){e.exports=a.p+"img/2KcWaF8a_400x400.b9586c47.jpg"},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=a("5f5b"),i=a("b1e0"),s=a("bc3a"),o=a.n(s),c=a("a7fe"),l=a.n(c),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container mt-4"},[a("nav",{staticClass:"nav px-4 py-2 bg-primary rounded"},[e._m(0),a("a",{staticClass:"nav-link text-light active",attrs:{"aria-current":"page",href:"#"}},[e._v("素材需求計算機")]),a("a",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-link",modifiers:{"modal-link":!0}}],staticClass:"nav-link text-light"},[e._v("其它工具 (外部連結)")])]),a("b-modal",{attrs:{id:"modal-link",title:"其它工具 (外部連結)"}},[a("div",{staticClass:"modal-body"},[a("ul",{staticClass:"list-group list-group-flush"},[a("li",{staticClass:"list-group-item"},[a("a",{attrs:{href:"https://arkonegraph.herokuapp.com/",target:"_blank",rel:"noopener"}},[e._v("明日方舟刷素材推荐一图流")])]),a("li",{staticClass:"list-group-item"},[a("a",{attrs:{href:"https://arkn.lolicon.app/#/material",target:"_blank",rel:"noopener"}},[e._v("明日方舟工具箱")])]),a("li",{staticClass:"list-group-item"},[a("a",{attrs:{href:"https://www.bigfun.cn/tools/aktools-old/akevolve.html",target:"_blank",rel:"noopener"}},[e._v("明日方舟精英化材料計算器")])]),a("li",{staticClass:"list-group-item"},[a("a",{attrs:{href:"https://forum.gamer.com.tw/C.php?bsn=33651&snA=628",target:"_blank",rel:"noopener"}},[e._v("4 星以上幹員培養素材統計")])]),a("li",{staticClass:"list-group-item"},[a("a",{attrs:{href:"https://gamewith.jp/arknights/article/show/184233",target:"_blank",rel:"noopener"}},[e._v("公開求人ツール | タグ検索シミュレーター（日文）")])]),a("li",{staticClass:"list-group-item"},[a("a",{attrs:{href:"https://arknights.wikiru.jp/index.php?%B9%D4%C6%B0%CD%A5%C0%E8%C5%D9%C9%BD",target:"_blank",rel:"noopener"}},[e._v("行動優先度表（日文）")])])])])]),a("div",{staticClass:"mt-2 p-4 bg-light rounded",attrs:{id:"app"}},[a("h1",{staticClass:"d-inline mr-2"},[e._v("明日方舟素材需求計算機")]),a("span",{staticClass:"d-inline-block p-1 bg-dark border rounded text-white lh-1"},[e._v("Last Updated: 2020/07/28")]),a("h2",{staticClass:"col-9 mt-4 p-2 border rounded bg-dark text-white"},[e._v("選項")]),a("p",[e._v("選取清單預設為依照稀有度排列，計算結果預設為依照 3 級排列。")]),a("div",{staticClass:"d-flex flex-wrap"},[a("div",{staticClass:"d-flex mr-2 justify-content-center align-items-center"},[a("h3",{staticClass:"d-inline m-0 p-2 border rounded bg-secondary text-white"},[e._v(" 輸入清單排序 ")]),a("div",{staticClass:"btn-group ml-2"},[a("label",{staticClass:"btn btn-outline-primary",attrs:{for:"rare"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sortByRare,expression:"sortByRare"}],staticClass:"btn-check",attrs:{type:"radio",name:"sort-by-rare",id:"rare",autocomplete:"off"},domProps:{value:!0,checked:e._q(e.sortByRare,!0)},on:{change:function(t){e.sortByRare=!0}}}),e._v(" 稀有度 ")]),a("label",{staticClass:"btn btn-outline-primary",attrs:{for:"category"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sortByRare,expression:"sortByRare"}],staticClass:"btn-check",attrs:{type:"radio",name:"sort-by-category",id:"category",autocomplete:"off"},domProps:{value:!1,checked:e._q(e.sortByRare,!1)},on:{change:function(t){e.sortByRare=!1}}}),e._v("類型")])])]),a("div",{staticClass:"d-flex mr-2 justify-content-center align-items-center"},[a("h3",{staticClass:"d-inline m-0 p-2 border rounded bg-secondary text-white"},[e._v(" 計算結果稀有度基準 ")]),a("div",{staticClass:"btn-group ml-2"},[a("label",{staticClass:"btn btn-outline-primary",attrs:{for:"4"}},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.resultBaseRare,expression:"resultBaseRare",modifiers:{number:!0}}],staticClass:"btn-check",attrs:{type:"radio",name:"base-rare",id:"4",autocomplete:"off",value:"4"},domProps:{checked:e._q(e.resultBaseRare,e._n("4"))},on:{change:function(t){e.resultBaseRare=e._n("4")}}}),e._v("4")]),a("label",{staticClass:"btn btn-outline-primary",attrs:{for:"3"}},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.resultBaseRare,expression:"resultBaseRare",modifiers:{number:!0}}],staticClass:"btn-check",attrs:{type:"radio",name:"base-rare",id:"3",autocomplete:"off",value:"3",checked:""},domProps:{checked:e._q(e.resultBaseRare,e._n("3"))},on:{change:function(t){e.resultBaseRare=e._n("3")}}}),e._v("3")]),a("label",{staticClass:"btn btn-outline-primary",attrs:{for:"2"}},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.resultBaseRare,expression:"resultBaseRare",modifiers:{number:!0}}],staticClass:"btn-check",attrs:{type:"radio",name:"base-rare",id:"2",autocomplete:"off",value:"2"},domProps:{checked:e._q(e.resultBaseRare,e._n("2"))},on:{change:function(t){e.resultBaseRare=e._n("2")}}}),e._v("2")]),a("label",{staticClass:"btn btn-outline-primary",attrs:{for:"1"}},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.resultBaseRare,expression:"resultBaseRare",modifiers:{number:!0}}],staticClass:"btn-check",attrs:{type:"radio",name:"base-rare",id:"1",autocomplete:"off",value:"1"},domProps:{checked:e._q(e.resultBaseRare,e._n("1"))},on:{change:function(t){e.resultBaseRare=e._n("1")}}}),e._v("1")])])])]),a("div",{staticClass:"mt-2"},[a("button",{staticClass:"btn btn-warning mr-2",attrs:{type:"button"},on:{click:e.resetOwn}},[e._v(" 重設擁有 ")]),a("button",{staticClass:"btn btn-warning mr-2",attrs:{type:"button"},on:{click:e.resetNeed}},[e._v(" 重設需求 ")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:e.resetAll}},[e._v(" 重設全部 ")])]),a("h2",{staticClass:"col-9 mt-4 p-2 border rounded bg-dark text-white"},[e._v("輸入")]),e.loading?a("div",{staticClass:"spinner-border d-flex justify-content-center",attrs:{role:"status"}},[a("span",{staticClass:"sr-only"},[e._v("Loading...")])]):a("div",{staticClass:"d-flex flex-column justify-content-center"},e._l(e.getMaterialsSorted,(function(t){return a("div",{key:t[0].id},[a("h3",{staticClass:"col-2 p-2 mt-2 border rounded bg-secondary text-white text-center"},[e.sortByRare?a("span",[e._v(e._s(t[0].rare))]):a("span",[e._v(e._s(t[0].category))])]),a("div",{staticClass:"d-flex flex-wrap"},e._l(t,(function(t){return a("div",{key:t.id,staticClass:"col-md-6 col-lg-4 col-xl-3 border rounded"},[a("MaterialCard",{attrs:{imgName:t.img,cn:t.cn,jp:t.jp,own:t.own,need:t.need},on:{"input-own":function(e){t.own=e},"input-need":function(e){t.need=e},change:e.getMaterialsNeeded}})],1)})),0)])})),0),a("h2",{staticClass:"mt-4 p-2 border rounded bg-dark text-white"},[e._v("結果")]),a("div",{staticClass:"d-flex flex-column justify-content-center"},[e.materialsNeed.length?a("div",e._l(e.materialsNeed,(function(t){return a("div",{key:t[0].id},[a("h3",{staticClass:"col-2 p-2 mt-2 border rounded bg-secondary text-white text-center"},[e._v(" "+e._s(t[0].rare)+" ")]),a("div",{staticClass:"d-flex flex-wrap"},e._l(t,(function(e){return a("div",{key:e.id,staticClass:"col-md-6 col-lg-4 col-xl-3 border rounded"},[a("MaterialCard",{attrs:{imgName:e.img,cn:e.cn,jp:e.jp,own:e.own,need:e.calculatedNeed}})],1)})),0)])})),0):e._e()])])],1)},d=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{staticClass:"navbar-brand rounded-circle",attrs:{href:"#"}},[n("img",{staticClass:"d-inline-block align-top",attrs:{src:a("55f2"),width:"30",height:"30",alt:"",loading:"lazy"}})])}],u=(a("4de4"),a("7db0"),a("c740"),a("4160"),a("c975"),a("fb6a"),a("b64b"),a("d3b7"),a("ac1f"),a("1276"),a("159b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row g-0"},[a("div",{staticClass:"col-4 m-0 p-2 d-flex justify-content-center align-items-center"},[a("img",{staticClass:"img-fluid",attrs:{src:e.imgUrl,alt:e.cn}})]),a("div",{staticClass:"col-8 m-0 p-2"},[a("h4",[e._v(e._s(e.jp))]),a("div",{staticClass:"d-flex"},[a("span",{staticClass:"input-group-text",attrs:{id:"own"}},[e._v("持有")]),a("input",{staticClass:"form-control",attrs:{type:"text","aria-label":"","aria-describedby":""},domProps:{value:e.own},on:{input:function(t){return e.$emit("input-own",t.target.value)}}})]),a("div",{staticClass:"d-flex"},[a("span",{staticClass:"input-group-text",attrs:{id:"need"}},[e._v("需要")]),a("input",{staticClass:"form-control",attrs:{type:"text","aria-label":"","aria-describedby":""},domProps:{value:e.need},on:{input:function(t){return e.$emit("input-need",t.target.value)}}})])])])}),m=[],f={props:["imgName","cn","jp","own","need"],computed:{imgUrl:function(){var e=a("9142");return e("./"+this.imgName+".png")}}},g=f,b=a("2877"),_=Object(b["a"])(g,u,m,!1,null,null,null),v=_.exports,h={components:{MaterialCard:v},data:function(){return{loading:!0,sortByRare:!0,maxRare:5,resultBaseRare:3,materials:[],materialsNeed:[],categories:{a:"エステル素材",b:"アケトン素材",c:"源岩素材",d:"異鉄素材",e:"装置素材",f:"糖原素材",g:"RMA素材",h:"合成コール素材",i:"砥石素材",j:"マンガン素材",k:"ゲル素材",l:"熾合金素材",m:"複合"}}},methods:{resetOwn:function(){for(var e=0;e<this.materials.length;e++)this.materials.own=0},resetNeed:function(){for(var e=0;e<this.materials.length;e++)this.materials.need=0},resetAll:function(){this.resetOwn(),this.resetNeed()},getMaterialById:function(e,t){return t.length||(t=this.materials),t.find((function(t){return t.id===e}))},getMaterialsSortedByRare:function(e){for(var t=[],a=function(a){var n=e.filter((function(e){return e.rare===a}));n.length&&t.push(n)},n=1;n<=this.maxRare;n++)a(n);return t},getMaterialsSortedByCategory:function(e){for(var t=[],a=Object.keys(this.categories)[0],n=Object.keys(this.categories).length-1,r=Object.keys(this.categories)[n],i=function(a){t.push(e.filter((function(e){return e.category===String.fromCharCode(a)})))},s=a.charCodeAt(0);s<=r.charCodeAt(0);s++)i(s);return t},convertRecipeToObject:function(e){var t={};return"X"===e?"X":(e=e.indexOf("+")?e.split("+"):[e],e.forEach((function(e){var a=e.substr(1),n=e.substr(0,1);t[a]=n})),t)},recipeToBaseRare:function(e){var t=this;if("X"===e)return"X";var a=!1;while(!a)a=!0,Object.keys(e).forEach((function(n){var r=n.slice(1);if(parseInt(r)>t.resultBaseRare){a=!1;var i=t.convertRecipeToObject(t.getMaterialById(n).recipe);delete e[n],Object.keys(i).forEach((function(t){t in e?e[t]+=parseInt(i[t]):e[t]=parseInt(i[t])}))}}));return e},getMaterialsNeeded:function(){var e=this,t=this.materials.filter((function(e){return e.need>0}));if(!t.length)return[];for(var a=0;a<t.length;a++)t[a].recipe=this.recipeToBaseRare(t[a].recipe);var n=t.filter((function(t){return t.rare>e.resultBaseRare&&"X"!=t.recipe}));if(console.log({materialsNeedHighRare:n}),n.length)for(var r=function(a){var r=Object.keys(n[a].recipe);r.forEach((function(i){var s=t.findIndex((function(e){return e.id===i}));console.log({materialsNeed:t,recipeKeys:r,i:a,key:i,recipeMaterialIndex:s}),-1===s&&(t.push(e.getMaterialById(i)),s=t.findIndex((function(e){return e.id===i}))),t[s].calculatedNeed+=parseInt(n[a].recipe[i])*parseInt(n[a].need)}))},i=0;i<n.length;i++)r(i);var s=t.filter((function(t){return t.rare<=e.resultBaseRare||"X"===t.recipe}));if(console.log({materialsNeedLowRare:s}),s.length)for(var o=function(e){var a=t.findIndex((function(t){return t.id===s[e].id}));t[a].calculatedNeed+=parseInt(s[e].need)},c=0;c<s.length;c++)o(c);this.materialsNeed=this.getMaterialsSortedByRare(t)}},computed:{getMaterialsSorted:function(e){return e.length||(e=this.materials),this.sortByRare?this.getMaterialsSortedByRare(e):this.getMaterialsSortedByCategory(e)}},mounted:function(){var e=this;this.$http.get("https://spreadsheets.google.com/feeds/cells/1pQHkQCVECL0t7XSgkcveA2WViZ3G73SnSSPGk8HNDXQ/2/public/values?alt=json").then((function(t){for(var a=function(a){var n=[];t.data.feed.entry.filter((function(e){return e.gs$cell.row==a})).forEach((function(e){n.push(e.content.$t)})),e.materials.push({id:n[0],rare:parseInt(n[1]),category:n[0][0],jp:n[2],cn:n[3],img:n[4],recipe:e.convertRecipeToObject(n[5]),drop:n[6],own:0,need:0,calculatedNeed:0})},n=1;n<=t.data.feed.gs$rowCount.$t;n++)a(n)})).catch((function(t){console.log(t),e.errored=!0})).finally((function(){e.loading=!1}))}},x=h,y=(a("5c0b"),Object(b["a"])(x,p,d,!1,null,null,null)),C=y.exports;a("f9e3"),a("2dd8");n["default"].config.productionTip=!1,n["default"].use(r["a"]),n["default"].use(i["a"]),n["default"].use(l.a,o.a),new n["default"]({render:function(e){return e(C)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";var n=a("9c0c"),r=a.n(n);r.a},7097:function(e,t,a){e.exports=a.p+"img/mate_9.551b54b9.png"},"726f":function(e,t,a){e.exports=a.p+"img/mate_8.33308395.png"},"78ba":function(e,t,a){e.exports=a.p+"img/mate_30.dc85b124.png"},8092:function(e,t,a){e.exports=a.p+"img/mate_1.42dcb9dd.png"},"84c5":function(e,t,a){e.exports=a.p+"img/mate_63.617d245e.png"},9142:function(e,t,a){var n={"./logo.png":"cf05","./mate_1.png":"8092","./mate_10.png":"aae1","./mate_11.png":"0d56","./mate_12.png":"5568","./mate_13.png":"22cd","./mate_2.png":"523e","./mate_25.png":"4223","./mate_26.png":"a9bd","./mate_27.png":"ccc5","./mate_28.png":"b5754","./mate_29.png":"0c3e","./mate_3.png":"1814","./mate_30.png":"78ba","./mate_4.png":"20a6","./mate_41.png":"0573","./mate_42.png":"b4aa","./mate_43.png":"9714","./mate_44.png":"b077","./mate_45.png":"add9","./mate_46.png":"ae31","./mate_47.png":"4b76","./mate_48.png":"0654","./mate_49.png":"5185","./mate_5.png":"b61a","./mate_50.png":"e75d","./mate_6.png":"c918","./mate_61.png":"f107","./mate_62.png":"e826","./mate_63.png":"84c5","./mate_64.png":"e0f2","./mate_65.png":"e749","./mate_66.png":"d72d","./mate_67.png":"f3d7","./mate_8.png":"726f","./mate_9.png":"7097","./mate_90.png":"45c8","./mate_91.png":"cdd0","./mate_92.png":"a304","./mate_93.png":"cf93"};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id="9142"},9714:function(e,t,a){e.exports=a.p+"img/mate_43.a7158f51.png"},"9c0c":function(e,t,a){},a304:function(e,t,a){e.exports=a.p+"img/mate_92.86023e3e.png"},a9bd:function(e,t,a){e.exports=a.p+"img/mate_26.0f8089ad.png"},aae1:function(e,t,a){e.exports=a.p+"img/mate_10.e091c2f1.png"},add9:function(e,t,a){e.exports=a.p+"img/mate_45.970003d4.png"},ae31:function(e,t,a){e.exports=a.p+"img/mate_46.97870ae8.png"},b077:function(e,t,a){e.exports=a.p+"img/mate_44.e07a9b13.png"},b4aa:function(e,t,a){e.exports=a.p+"img/mate_42.7c23e5a3.png"},b5754:function(e,t,a){e.exports=a.p+"img/mate_28.4aa84580.png"},b61a:function(e,t,a){e.exports=a.p+"img/mate_5.d898a4ba.png"},c918:function(e,t,a){e.exports=a.p+"img/mate_6.e0aa36b8.png"},ccc5:function(e,t,a){e.exports=a.p+"img/mate_27.50d8fd4c.png"},cdd0:function(e,t,a){e.exports=a.p+"img/mate_91.031ea05b.png"},cf05:function(e,t,a){e.exports=a.p+"img/logo.82b9c7a5.png"},cf93:function(e,t,a){e.exports=a.p+"img/mate_93.87fabfff.png"},d72d:function(e,t,a){e.exports=a.p+"img/mate_66.a3ba520f.png"},e0f2:function(e,t,a){e.exports=a.p+"img/mate_64.8ef40f4a.png"},e749:function(e,t,a){e.exports=a.p+"img/mate_65.f2d733a9.png"},e75d:function(e,t,a){e.exports=a.p+"img/mate_50.550726d4.png"},e826:function(e,t,a){e.exports=a.p+"img/mate_62.6bbd243e.png"},f107:function(e,t,a){e.exports=a.p+"img/mate_61.bdf4f602.png"},f3d7:function(e,t,a){e.exports=a.p+"img/mate_67.8fc670ff.png"}});
//# sourceMappingURL=app.1678d91a.js.map